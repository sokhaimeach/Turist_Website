<section class="account">
    <div class="cover align-center">
        <img [src]="user?.cover" alt="">
    </div>

    <div class="tab row">
        <div class="col-3"></div>
        <div class="col-6">
            <span class="text-warning fw-bold fs-6 ms-3">Post</span>
            <span class="fw-bold fs-6 ms-3">About</span>
            <span class="fw-bold fs-6 ms-3">Customeize</span>
        </div>
        <div class="col-3"></div>
    </div>

    <div class="body row ps-4 pe-4">
        <div class="col-3">
            <div class="card align-center profile-card" style="height: auto">
                <div class="card align-center pt-5" style="border: none; box-shadow: none;">
                    <div class="img-profile align-center">
                        <img [src]="user?.profile" class="profile" alt="...">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title fw-bold">{{user?.name}}</h5>
                        <p class="card-text align-center w-100">{{user?.nickname}}</p>
                    </div>
                </div>
                <div class="about ps-3 pe-3 w-100">
                    <div class="input-group">
                        <span class="input-group-text fw-bold bio-icon">Bio</span>
                        <p class="bio ps-3 align-center pt-3">{{user?.bio}}</p>
                    </div>

                    <div class="collapse" id="collapseExample">
                        <div class="card card-body">
                            <input type="text" placeholder="Edit bio" [(ngModel)]="get_bio">
                        </div>
                    </div>
                    <button (click)="editBio()" class="btn edit-bio align-center" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false"
                        aria-controls="collapseExample">Edit bio</button>
                    <div class="input-group">
                        <span class="input-group-text fw-bold bio-icon">
                            <i class="bi bi-buildings-fill"></i>
                        </span>
                        <p class="bio ps-3 align-center pt-3">{{user?.school}}</p>
                    </div>
                    <div class="input-group">
                        <span class="input-group-text fw-bold bio-icon">
                            <i class="bi bi-heart-fill"></i>
                        </span>
                        <p class="bio ps-3 align-center pt-3">{{user?.status}}</p>
                    </div>
                    <div class="input-group">
                        <span class="input-group-text fw-bold bio-icon">
                            <i class="bi bi-person-workspace"></i>
                        </span>
                        <p class="bio ps-3 align-center pt-3">{{user?.workplace}}</p>
                    </div>
                </div>
            </div>

            <!-- Button trigger modal -->
            <button style="margin-top: 350px; width: 95%;" type="button" class="btn btn-warning" data-bs-toggle="modal"
                data-bs-target="#exampleModal" (click)="isPost()">
                Post
                <i class="bi bi-plus-circle"></i>
            </button>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Post form</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" style="height: 450px;">
                            <span>Write your content</span>
                            <textarea [(ngModel)]="selectedTextPost" class="form-control mt-2"
                                style="border: 2px solid orange;" rows="3"></textarea>

                            <div class="mb-3 mt-3">
                                <label class="btn"
                                    style="font-size: 13px; background-color: rgb(255, 219, 153); border: 2px solid orange;">
                                    <i class="bi bi-upload me-2"></i> Select Image
                                    <input type="file" class="d-none" accept="image/*" (change)="getPhoto($event)" />
                                </label>
                            </div>

                            <!-- Preview Photo -->
                            <div class="preview-photo">
                                <img [src]="selectedFileName" alt="Post photo">
                            </div>
                        </div>
                        <div class="modal-footer">
                            @if(!isUpdate) {
                            <button type="button" class="btn btn-warning" data-bs-dismiss="modal"
                                (click)="setPost()">Post</button>
                            } @else {
                            <button type="button" class="btn btn-warning" data-bs-dismiss="modal"
                                (click)="updatePost(updateTime)">Update</button>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-6 post">
            @for(po of reversePost; track $index) {
            <div class="card mt-3 mb-3">
                <div class="head d-flex ps-4 pe-4 pt-3">
                    <div class="sub-profile align-center">
                        <img [src]="po?.userpic" class="" alt="...">
                    </div>
                    <div class="text">
                        <h6 class="name fw-bold">{{po?.username}}</h6>
                        <span style="font-size: 12px;">{{po?.date}}</span>
                    </div>
                    <div class="btn-group dropend position-i">
                        <i class="bi bi-three-dots-vertical" data-bs-toggle="dropdown" aria-expanded="false"></i>
                        <ul class="dropdown-menu" style="line-height: 30px;">
                            <!-- Dropdown menu links -->
                            <li class="fw-bold ms-2 fs-6" style="cursor: pointer;" (click)="deletePost(po?.date)"><i
                                    class="me-2 bi bi-backspace-reverse"></i> Delete</li>
                            <li class="fw-bold ms-2 fs-6" style="cursor: pointer;" data-bs-toggle="modal"
                                data-bs-target="#exampleModal" (click)="transferToControl(po?.date)"><i
                                    class="me-2 bi bi-arrow-clockwise"></i> Update</li>
                        </ul>
                    </div>
                </div>
                <p class="body-text ps-4 pe-4 pt-2 w-100">
                    {{po?.text}}
                </p>
                <div class="body-img ps-4 pe-4 mb-4 align-center">
                    <img [src]="po?.picture" alt="">
                </div>
                <div class="footer-card d-flex ps-5 pe-5">
                    <div class="align-center" style="position: relative;">
                        <i [class]="heart[$index]" (click)="likePost($event,po?.date)" [style.color]="fillHeart[$index]"></i>
                        <span class="ms-2">Love</span>
                        <span style="position: absolute; left: 65px; color: black;">1</span>
                    </div>
                    <div class="align-center" style="position: relative;">
                        <i class="bi bi-chat-dots"></i>
                        <span class="ms-2">Comment</span>
                        <span style="position: absolute; left: 100px;">1</span>
                    </div>
                    <div class="align-center">
                        <i class="bi bi-reply"></i>
                        <span class="ms-2">Share</span>
                    </div>
                </div>
            </div>
            }
        </div>

        <div class="col-3 mt-3">
            <div class="card p-3">
                <h1 class="fw-bold text-warning">Feedback</h1>
                @if(this.user?.feedback == '' && this.user?.star == 0){
                <span>What do you think of our website?</span>
                <div class="stars d-flex">
                    <i [class]="fill_star[0]" (click)="rateStar(1)"></i>
                    <i [class]="fill_star[1]" (click)="rateStar(2)"></i>
                    <i [class]="fill_star[2]" (click)="rateStar(3)"></i>
                    <i [class]="fill_star[3]" (click)="rateStar(4)"></i>
                    <i [class]="fill_star[4]" (click)="rateStar(5)"></i>
                </div>
                <span>Do you have any thoughts you'd like to share?</span>
                <textarea [(ngModel)]="getFeedback" class="form-control" style="border: 2px solid orange;"
                    rows="3"></textarea>
                <button class="btn btn-warning mt-3" (click)="SendFeedback()">Send</button>
                } @else {
                <div class="stars d-flex">
                    <i [class]="fill_star[0]"></i>
                    <i [class]="fill_star[1]"></i>
                    <i [class]="fill_star[2]"></i>
                    <i [class]="fill_star[3]"></i>
                    <i [class]="fill_star[4]"></i>
                </div>
                <p>{{user?.feedback}}</p>
                }
            </div>
        </div>
    </div>
</section>











<!-- From Uiverse.io by ZstarPanda0210 -->

<div class="cardss" [style.display]="displayProgress">
    <div class="header">
        <div class="image">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <g stroke-width="0" id="SVGRepo_bgCarrier"></g>
                <g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g>
                <g id="SVGRepo_iconCarrier">
                    <path stroke-linejoin="round" stroke-linecap="round" stroke-width="1.5" stroke="#000000"
                        d="M20 7L9.00004 18L3.99994 13"></path>
                </g>
            </svg>
        </div>
        <div class="content">
            <span class="title">Complite process</span>
            <p class="message">Thank you for your purchase. you package will be delivered within 2 days of your purchase
            </p>
        </div>
    </div>
</div>